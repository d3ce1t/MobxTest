<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="%PUBLIC_URL%/favicon.ico">
    <!--
      Notice the use of %PUBLIC_URL% in the tag above.
      It will be replaced with the URL of the `public` folder during the build.
      Only files inside the `public` folder can be referenced from the HTML.

      Unlike "/favicon.ico" or "favicon.ico", "%PUBLIC_URL%/favicon.ico" will
      work correctly both with client-side routing and a non-root public URL.
      Learn how to configure a non-root public URL by running `npm run build`.
    -->
    <title>React App</title>
  </head>
  <body>
    <p>
      This example tests MobX behaviour when using computed values with filtered and/or sorted arrays.
    </p>
    <p>
      In this example, MobX store has an observable array with ten items and two computed values, one for filtering the array and
      the other one for sorting it. The second computed value depends on the first one. Everything works as expected when the computed values return observables. If computed values return an array, abnormal behaviour is produced, i.e. sorting stops working, filtered values get sorted and reactions in autorun are not triggered as expected.
    </p>
    <p>
      So the questions are:
      <ol>
        <li><strong>Should computed values return observables?</strong></li>
        <li><strong>Why this example doesn't work when computed values return an Array?</strong></li>
      </ol>
    </p>
    <p><strong>UPDATE: It was my mistake. I employed Array.sort() which performs in-place sorting. Due to this, cache of filtered computed value was being modified.</strong></p>
    <div id="root"></div>
    <h3><a href="https://github.com/d3ce1t/MobxTest/blob/master/src/index.js">Source code</a></h3>
    <h3><a href="https://github.com/mobxjs/mobx/issues/883">Github issue</a></h3>
    <!--
      This HTML file is a template.
      If you open it directly in the browser, you will see an empty page.

      You can add webfonts, meta tags, or analytics to this file.
      The build step will place the bundled scripts into the <body> tag.

      To begin the development, run `npm start`.
      To create a production bundle, use `npm run build`.
    -->
  </body>
</html>
